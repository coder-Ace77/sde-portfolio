# 8. Manhattan Distance

---

We define the manhatton distance between two points as

dist = `|x1-x2|+|y1-y2|`

Well although it might look simple formula but the interpretation means it is the number of unit steps needed to move from one point to other when moving along grid lines. The big difficulty in dealing with such numbers is the modulus operation which makes it difficult to manage and apply in the operations.

Now we can rotate the axis along 45 degrees and we can get the big trick which is

`dist = |x1-x2|+|y1-y2| = max(|(x1+y1)-(x2+y2)|,|(x1-y1)-(x2-y2)|)`. Converts Manhattan distance into **Chebyshev distance** in transformed space. Well it allows us to decouple the two terms aka two points. Thus we can individually sort the terms.

### Maximum manhattan distance among point

Given `n` points, find:

`max⁡i,j∣xi−xj∣+∣yi−yj∣\max_{i,j} |x_i - x_j| + |y_i - y_j|i,jmax​∣xi​−xj​∣+∣yi​−yj​∣`

#### Solution

`max(max(x+y)−min(x+y),max(x−y)−min(x−y))` because Manhattan distance reduces to max difference in transformed axes.

### Sum of Manhattan Distances (Classic Optimization)

`∑∣xi​−xj​∣+∣yi​−yj​∣`

#### Solution

The idea is to handle the x and y independently. Then we can sort the axes independently. And then found the pair wise sums.

|Pattern|Trick|
|---|---|
|Max distance|`x+y`, `x-y`|
|Sum distance|Sort + prefix|
|Query distance|Precompute extremes|
|Range constraint|Rotate 45°|
|Minimize sum|Median|
|Grid BFS|Manhattan heuristic|
